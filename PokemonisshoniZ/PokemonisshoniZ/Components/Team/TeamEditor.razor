@page "/TeamEditor"
@page "/TeamEditor/{Id:int}"

@rendermode InteractiveAuto

@using PokeCommon.Models
@using PokemonisshoniZ.Data
@using PokemonisshoniZ.Services

@inject PokemonisshoniService PokemonisshoniService

<RadzenCard style="background-color:var(--rz-base-background-color)">
    <RadzenRow>

        <RadzenColumn Size="12" SizeMD="4">
            <RadzenTextBox class="w-100" @bind-Value="@Team.Name"></RadzenTextBox>
            <RadzenTextArea Cols="50" Rows="50" Style="resize: none; width:100%" @bind-Value=Team.PSText />
        </RadzenColumn>
        <RadzenColumn Size="12" SizeMD="8">

            <RadzenRow>
                @foreach (var poke in GamePokemon.GamePokemons)
                {
                    <RadzenColumn Size="12" SizeLG="6">
                        <PokemonEditor GamePokemon="poke" @key=poke></PokemonEditor>
                    </RadzenColumn>

                }
            </RadzenRow>

        </RadzenColumn>
    </RadzenRow>
</RadzenCard>
@code {
    [Parameter] public string Style { get; set; }
    [Parameter] public int Id { get; set; }
    [Parameter] public PokeTeam Team { get; set; }

    GamePokemonTeam GamePokemon { get; set; } = new() { GamePokemons = [null, null, null, null, null, null] };


    protected override async Task OnInitializedAsync()
    {
        if (Team == null)
        {

        }
        GamePokemon = await PokemonisshoniService.PokeCommonService.PSToPokeTeam(Team.Name);
        await base.OnInitializedAsync();
    }
}
